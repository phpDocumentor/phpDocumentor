<script type="text/javascript">
queue(function()
{
	var $sh;
	
	module('007_collapse_interaction');
	
	function clickA($a)
	{
		SyntaxHighlighter.toolbar.handler({
			target: $a[0],
			preventDefault: function() {}
		});	
	};
	
	test('expand collapsed block with title', function()
	{
		$sh = $('#sh_007_collapse_a');
		
		ok_sh($sh);
		ok_toolbar($sh);
		ok_collapsed($sh);
		
		var $a = $sh.find('.toolbar a.toolbar_item.command_expandSource');
		clickA($a);
		ok($a.not(':visible'), 'Expand not visible');
		ok_code($sh);
	});

	test('expand collapsed block without title', function()
	{
		$sh = $('#sh_007_collapse_b');
		
		ok_sh($sh);
		ok_toolbar($sh);
		ok_collapsed($sh);
		
		var $a = $sh.find('.toolbar a.toolbar_item.command_expandSource');
		clickA($a);
		ok($a.not(':visible'), 'Expand not visible');
		ok_code($sh);
	});
});
</script>
